<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title>无标题文档</title>
</head>

<body>
	<script>
		/*1.简单工厂模式
			提供一个创建一系列相关对象的入口，统一了对象创建职责，创建对象时无需关心具体类。 
		2.工厂模式
			提供一个创建一系列相关对象的入口，统一了对象创建职责，创建对象时无需关心具体类。
			区别：使用一个工厂类来进行创建。
		3.抽象工厂模式
			一个工厂类可以对应多个产品类，对应产生多个实例对象。
		*/

		/*function Foo(){
			this.name = 'Hello Foo';
		}
		function Bar(){
			this.name = 'Hello Bar';
		}
		var obj1 = new Foo();
		var obj2 = new Bar();
		console.log(obj1.name);
		console.log(obj2.name);*/

		/*function Foo(){
			this.name = 'Hello Foo';
		}
		function Bar(){
			this.name = 'Hello Bar';
		}
		function Factory(arg){
			var result;
			if(arg == 'foo'){
				return result = new Foo();
			}
			else if(arg == 'bar'){
				return result = new Bar();
			}
			return result;
		}
		var obj = Factory('bar');
		console.log( obj.name );*/

		/*function Foo(){
			this.name = 'Hello Foo';
		}
		function Bar(){
			this.name = 'Hello Bar';
		}
		function Factory(){	
		}
		Factory.prototype.create = function(arg){
			var result;
			if(arg == 'foo'){
				return result = new Foo();
			}
			else if(arg == 'bar'){
				return result = new Bar();
			}
			return result;
		};

		var fa = new Factory();
		var obj = fa.create('foo');
		console.log( obj.name );*/

		/*function Get(url){
		}
		Get.prototype.done = function(fn){
			var xhr = new XMLHttpRequest();
			xhr.open('GET');
			xhr.onload = function(){
				fn(xhr.responseText);
			};
		};

		function Post(url){
		}
		Post.prototype.done = function(fn){
			var xhr = new XMLHttpRequest();
			xhr.open('POST');
			xhr.onload = function(){
				fn(xhr.responseText);
			};
		};
		function Jsonp(url){
		}
		Jsonp.prototype.done = function(fn){
			var script = document.createElement('script');
			var name = url.match(/callback=([^&]+)/)[1];
			srcript.src = url;
			document.body.appendChild(script);
			window[name] = fn;
		};

		function ajax(url,mothed){
			var result;
			switch(mothed){
				case 'get':
					result = new Get(url);
				break;
				case 'post':
					result = new Post(url);
				break;
				case 'jsonp':
					result = new Jsonp(url);
				break;	
			}
			return result;
		}

		var xhr = ajax('data.php','get');
		xhr.done(function(data){
			console.log(data);
		});

		var xhr = ajax('data.php?callback=hello','jsonp');
		xhr.done(function(data){
			console.log(data);
		});*/
	</script>
</body>

</html>